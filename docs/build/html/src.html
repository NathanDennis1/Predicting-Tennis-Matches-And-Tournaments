<!DOCTYPE html>

<html lang="English" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>src package &#8212; Team 19 Docs 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=cd5f4460"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="src-package">
<h1>src package<a class="headerlink" href="#src-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-src.Odds_to_Prob">
<span id="src-odds-to-prob-module"></span><h2>src.Odds_to_Prob module<a class="headerlink" href="#module-src.Odds_to_Prob" title="Link to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="src.Odds_to_Prob.InvalidTournamentError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.Odds_to_Prob.</span></span><span class="sig-name descname"><span class="pre">InvalidTournamentError</span></span><a class="headerlink" href="#src.Odds_to_Prob.InvalidTournamentError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
<p>Class to return invalid tournament error if user does not input a correct tournament name.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.Odds_to_Prob.Odds">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.Odds_to_Prob.</span></span><span class="sig-name descname"><span class="pre">Odds</span></span><a class="headerlink" href="#src.Odds_to_Prob.Odds" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.Odds_to_Prob.Odds.american_odds_to_probability">
<span class="sig-name descname"><span class="pre">american_odds_to_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">odds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.Odds_to_Prob.Odds.american_odds_to_probability" title="Link to this definition">¶</a></dt>
<dd><p>Creates function to convert odds to probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>odds</strong> (<em>float</em>) -- number input for the given odds</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final calculation of probability given american odds as a float.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.Odds_to_Prob.Odds.convert_odds">
<span class="sig-name descname"><span class="pre">convert_odds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tournament</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.Odds_to_Prob.Odds.convert_odds" title="Link to this definition">¶</a></dt>
<dd><p>Converts odds to probabilities based on the year and tournament. Creates the probability dataframe based on the given
odds for a tournament in a year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int</em>) -- Year of tournament.</p></li>
<li><p><strong>tournament</strong> (<em>str</em>) -- Name of tournament. (Australian Open, Roland Garros, Wimbledon, or US Open)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> -- Inputs must both be floats, true and pred, raises error if not.</p></li>
<li><p><a class="reference internal" href="#src.Odds_to_Prob.InvalidTournamentError" title="src.Odds_to_Prob.InvalidTournamentError"><strong>InvalidTournamentError</strong></a> -- Tournament must be a grand slam tournament, Australian Open, Roland Garros, Wimbledon, or US Open.</p></li>
<li><p><strong>FileNotFoundError</strong> -- csv files for the odds is not found</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.Odds_to_Prob.Odds.get_project_root">
<span class="sig-name descname"><span class="pre">get_project_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.Odds_to_Prob.Odds.get_project_root" title="Link to this definition">¶</a></dt>
<dd><p>Returns the root directory of the project, which in our case is final_19. This was done
so that the test_odds_to_prob.py test code would work.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.elo_calculations">
<span id="src-elo-calculations-module"></span><h2>src.elo_calculations module<a class="headerlink" href="#module-src.elo_calculations" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.elo_calculations.ELO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.elo_calculations.</span></span><span class="sig-name descname"><span class="pre">ELO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_elo_rating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_year</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ELO class which is used to calculate ELO scores and gets the most recent age of each player in the tennis dataset.
Also creates the CSV for the elo calculations for each player in the data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.decay_factor">
<span class="sig-name descname"><span class="pre">decay_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year_diff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decay_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.decay_factor" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the decay factor based off the year difference from the present to calculate ELO scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year_diff</strong> (<em>int</em>) -- The calculated difference in years (Earlier year minus furthest year)</p></li>
<li><p><strong>decay_rate</strong> (<em>float</em>) -- Rate of decay for year difference equation. Default set to 0.3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decay factor for the year difference as a float.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Year difference must be an int, decay rate must be a float. Raises errors if this is not the case.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.elo_calculation">
<span class="sig-name descname"><span class="pre">elo_calculation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elo_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.elo_calculation" title="Link to this definition">¶</a></dt>
<dd><p>Calculates ELO scores for each tennis player based on previous match history</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas dataframe</em>) -- Dataframe for previous match history for each tennis tournament and professional match.</p></li>
<li><p><strong>elo_df</strong> (<em>pandas dataframe</em>) -- Dataframe of ELO scores for players on all surfaces.</p></li>
<li><p><strong>K</strong> (<em>int</em>) -- Sensitivity constant for ELO calculation. Default set to 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New Elo dataframe for players updated ELO scores.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- data and elo_df must be dataframes. K must be an int.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.expected_game_score">
<span class="sig-name descname"><span class="pre">expected_game_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_elo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_elo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.expected_game_score" title="Link to this definition">¶</a></dt>
<dd><p>Calculates expected game score based on logistic function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_elo</strong> (<em>float</em>) -- The first elo for a given team/player.</p></li>
<li><p><strong>second_elo</strong> (<em>float</em>) -- The second elo for a given team/player.</p></li>
<li><p><strong>S</strong> (<em>int</em>) -- Scaling factor. Default set to 400.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final calculation for an expected game score.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- The first and second ELO must be of type float. S must be of type int.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.final_elo_csv">
<span class="sig-name descname"><span class="pre">final_elo_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tennis_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../data/player_elos.csv'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.final_elo_csv" title="Link to this definition">¶</a></dt>
<dd><p>Creates the final elo csv which has ELO calculations for all surfaces. Saves file to a csv titled
player_elos.csv, saved in the data folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tennis_data</strong> (<em>pandas dataframe</em>) -- The dataframe containing all tennis match data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) -- Path of the file to save, default ../data/player_elos.csv.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series for the number of games a player has played.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.get_most_recent_age">
<span class="sig-name descname"><span class="pre">get_most_recent_age</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.get_most_recent_age" title="Link to this definition">¶</a></dt>
<dd><p>Calculates an estimated current age for each player in the dataset. This approach takes the last age a player lost and won
at and adjusts depending on the year the match was played in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas dataframe</em>) -- Dataframe for previous match history for each tennis tournament and professional match.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series for the estimated current age of a given tennis player.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.get_names">
<span class="sig-name descname"><span class="pre">get_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.get_names" title="Link to this definition">¶</a></dt>
<dd><p>Gets the names of all players in a dataframe. Creates a set of the unique names in
the winners and losers columns, then combines the set using union.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas dataframe</em>) -- Dataframe for given tennis dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of player names from the tennis dataset</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Data input must be a dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.initial_elos">
<span class="sig-name descname"><span class="pre">initial_elos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">surfaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.initial_elos" title="Link to this definition">¶</a></dt>
<dd><p>Reads list of surfaces and names of players/teams and creates the initial ELO dataframe across all surfaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surfaces</strong> (<em>list</em>) -- A list of surfaces players are playing on. (Clay, Grass, Hard)</p></li>
<li><p><strong>names</strong> (<em>list</em>) -- Names of all teams/players for the sport.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final dataframe across all surfaces and players and their respective ELO scores.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.elo_calculations.ELO.logistic">
<span class="sig-name descname"><span class="pre">logistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.elo_calculations.ELO.logistic" title="Link to this definition">¶</a></dt>
<dd><p>Creates logistic function used for ELO calculation. Uses the common logistic equation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) -- number input for the log function</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final calculation of logistic function with given number as a float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.error_metrics">
<span id="src-error-metrics-module"></span><h2>src.error_metrics module<a class="headerlink" href="#module-src.error_metrics" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.error_metrics.Errors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.error_metrics.</span></span><span class="sig-name descname"><span class="pre">Errors</span></span><a class="headerlink" href="#src.error_metrics.Errors" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to calculate error metrics based on the models predicted probabilities and the given winning probabilities based on the odds.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.L1">
<span class="sig-name descname"><span class="pre">L1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.L1" title="Link to this definition">¶</a></dt>
<dd><p>Calculates L-1 Norm score, the average absolute difference between the true and predicted values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> (<em>pandas series</em>) -- True values (betting odds probability)</p></li>
<li><p><strong>pred</strong> (<em>pandas series</em>) -- Predicted values (model output probability)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Output:</dt><dd><p>L-1 Norm score as a float</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Inputs must both be series, true and pred, raises error if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.Linf">
<span class="sig-name descname"><span class="pre">Linf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.Linf" title="Link to this definition">¶</a></dt>
<dd><p>Calculates L-Infinity Norm score, the maximum absolute error between the true and predicted values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> (<em>pandas series</em>) -- Series of true values (betting odds probability)</p></li>
<li><p><strong>pred</strong> (<em>pandas series</em>) -- Series of predicted values (model output probability)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Output:</dt><dd><p>L-Infinity Norm score as a float</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Inputs must both be series, true and pred, raises error if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.MAPE">
<span class="sig-name descname"><span class="pre">MAPE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.MAPE" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the Mean Absolute Percentage Error (MAPE) between the true and predicted values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> (<em>pandas series</em>) -- True values (betting odds probability)</p></li>
<li><p><strong>pred</strong> (<em>pandas series</em>) -- Predicted values (model output probability)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MAPE score as a float</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Inputs must both be series, true and pred, raises error if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.RMSE">
<span class="sig-name descname"><span class="pre">RMSE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.RMSE" title="Link to this definition">¶</a></dt>
<dd><p>Calculates RMSE score, the root mean squared error between the true and predicted values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> (<em>pandas series</em>) -- Series of true values (betting odds probability)</p></li>
<li><p><strong>pred</strong> (<em>pandas series</em>) -- Series of predicted values (model output probability)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>RMSE score as a float.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Inputs must both be series, true and pred, raises error if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.R_squared">
<span class="sig-name descname"><span class="pre">R_squared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.R_squared" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the R-squared (coefficient of determination) between the true and predicted values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> (<em>pandas series</em>) -- True values (betting odds probability)</p></li>
<li><p><strong>pred</strong> (<em>pandas series</em>) -- Predicted values (model output probability)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>R-squared score as a float</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- Inputs must both be series, true and pred, raises error if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.error_metrics.Errors.displayErrors">
<span class="sig-name descname"><span class="pre">displayErrors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rating_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tournament_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.error_metrics.Errors.displayErrors" title="Link to this definition">¶</a></dt>
<dd><p>Given prediction probabilities, returns all the utilized error metrics including RMSE, L-Infinity Norm,
L-1, MAPE and R-squared score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rating_system</strong> (<em>str</em>) -- Name of given rating system, either ELO or SkillO.</p></li>
<li><p><strong>tournament_name</strong> (<em>str</em>) -- Name of tennis tournament. (Ex: Wimbledon, Roland Garros, Australian Open)</p></li>
<li><p><strong>simulation_number</strong> (<em>None</em><em> or </em><em>str</em>) -- Optional imput for simulation number to display errors for certain simulation number csv files created. Default set to None</p></li>
<li><p><strong>k_list</strong> (<em>None</em><em> or </em><em>list</em>) -- The list (max length 3) of different k factors used in the H2H model to calculate error rates for.
This can be none if the H2H model is not being used, which is the default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe across all 5 error metrics for given rating system.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> -- k_list has to be either None or a list of at most 3 elements.</p></li>
<li><p><strong>ValueError</strong> -- rating_system must be 'ELO' or 'SkillO'.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.get_tennis_data">
<span id="src-get-tennis-data-module"></span><h2>src.get_tennis_data module<a class="headerlink" href="#module-src.get_tennis_data" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.get_tennis_data.GetTennisData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.get_tennis_data.</span></span><span class="sig-name descname"><span class="pre">GetTennisData</span></span><a class="headerlink" href="#src.get_tennis_data.GetTennisData" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to create dataframe from a dataset on github.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.get_tennis_data.GetTennisData.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2025</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.get_tennis_data.GetTennisData.get_data" title="Link to this definition">¶</a></dt>
<dd><p>Reads data from github url and creates dataframe across all the years input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year_lower</strong> (<em>int</em>) -- The lower bound for the years you want data for. Default set to 2000</p></li>
<li><p><strong>year_upper</strong> (<em>int</em>) -- The upper bound (Exclusive) for the years you want data for. Default set to 2025</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final dataframe across every github url for given years.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Exception</strong> -- Years must be integers</p></li>
<li><p><strong>ValueError</strong> -- Year must be in specified range of possible data. Between 1968 to 2024 to lower year, 1969 to 2025 for upper.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.main">
<span id="src-main-module"></span><h2>src.main module<a class="headerlink" href="#module-src.main" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="src.main.main">
<span class="sig-prename descclassname"><span class="pre">src.main.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.main.main" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-src.past_matches">
<span id="src-past-matches-module"></span><h2>src.past_matches module<a class="headerlink" href="#module-src.past_matches" title="Link to this heading">¶</a></h2>
<p>src.skillo_calculations module</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.past_matches.past_match_data">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.past_matches.</span></span><span class="sig-name descname"><span class="pre">past_match_data</span></span><a class="headerlink" href="#src.past_matches.past_match_data" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to obtain past match data between players.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.past_matches.past_match_data.win_percentage_common_opponents">
<span class="sig-name descname"><span class="pre">win_percentage_common_opponents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.past_matches.past_match_data.win_percentage_common_opponents" title="Link to this definition">¶</a></dt>
<dd><p>Function for obtaining the winning percentage and number of games played for every player in the tennis
dataset. Creates a csv file for both win percentage and games played between every player in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas Dataframe</em>) -- Dataframe for all of the past tennis match data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe of win percentage and games played as a tuple.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- data must be of type dataframe.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="py class" id="module-src.skillo_calculations">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.skillo_calculations.</span></span><span class="sig-name descname"><span class="pre">skillO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_variance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_decay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>SkillO class to calculate player skill and uncertainty updates for tennis matches.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO.expected_game_score">
<span class="sig-name descname"><span class="pre">expected_game_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance_2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO.expected_game_score" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the expected outcome of a match between two players based on their skill and uncertainty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_1</strong> (<em>float</em>) -- Skill of player 1, their mean.</p></li>
<li><p><strong>mean_2</strong> (<em>float</em>) -- Skill of player 2, their mean.</p></li>
<li><p><strong>variance_1</strong> (<em>float</em>) -- Uncertainty of player 1, their variance.</p></li>
<li><p><strong>variance_2</strong> (<em>float</em>) -- Uncertainty of player 2, their variance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Expected probability that player 1 beats player 2.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO.final_csv">
<span class="sig-name descname"><span class="pre">final_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tennis_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../data/skillo.csv'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO.final_csv" title="Link to this definition">¶</a></dt>
<dd><p>Creates the final csv for the skillo player ratings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tennis_data</strong> (<em>pandas dataframe</em>) -- The dataframe containing all tennis match data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) -- Path of the file to save, default ../data/skillo.csv.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO.initial_skills">
<span class="sig-name descname"><span class="pre">initial_skills</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">surfaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO.initial_skills" title="Link to this definition">¶</a></dt>
<dd><p>Creates initial skill dataframe with skill mean and variance for each player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surfaces</strong> (<em>list</em>) -- A list of surfaces players are playing on. (Clay, Grass, Hard)</p></li>
<li><p><strong>names</strong> (<em>list</em>) -- Names of all players.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe containing initial skill (mean) and uncertainty (variance) for each player as a pandas dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO.simulate_multiple_runs">
<span class="sig-name descname"><span class="pre">simulate_multiple_runs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_simulations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surfaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO.simulate_multiple_runs" title="Link to this definition">¶</a></dt>
<dd><p>Run the skillO calculation multiple times and take the average mean and variance for each player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas dataFrame</em>) -- Match data containing winner, loser, surface, and year of match.</p></li>
<li><p><strong>num_simulations</strong> (<em>int</em>) -- Number of times to run the simulation.</p></li>
<li><p><strong>surfaces</strong> (<em>list</em>) -- List of surfaces (Hard, Clay, Grass)</p></li>
<li><p><strong>names</strong> (<em>list</em>) -- List of player names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe with average mean and variance across all simulations for skillo.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.skillo_calculations.skillO.skillO_calculation">
<span class="sig-name descname"><span class="pre">skillO_calculation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SkillO_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.skillo_calculations.skillO.skillO_calculation" title="Link to this definition">¶</a></dt>
<dd><p>Calculates SkillO for each player based on match history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas dataFrame</em>) -- Match data containing winner, loser, surface, and year of match.</p></li>
<li><p><strong>SkillO_df</strong> (<em>pandas dataFrame</em>) -- Dataframe of SkillO ratings.</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) -- SkillO adjustment factor. Default set to 0.1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated player skill dataframe after all matches.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.plot">
<span id="src-plot-module"></span><h2>src.plot module<a class="headerlink" href="#module-src.plot" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.plot.Plot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.plot.</span></span><span class="sig-name descname"><span class="pre">Plot</span></span><a class="headerlink" href="#src.plot.Plot" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Plot class to plot models predicted tournament winner probabilities vs the betting odds probabilities. Also comparison between
rating systems plot.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.plot.Plot.get_project_root">
<span class="sig-name descname"><span class="pre">get_project_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.plot.Plot.get_project_root" title="Link to this definition">¶</a></dt>
<dd><p>Returns the root directory of the project, which in our case is final_19. This was done
so that the test_plot.py test code would work. We received assistance for this code from ChatGPT.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.plot.Plot.plot_ELO_vs_SkillO">
<span class="sig-name descname"><span class="pre">plot_ELO_vs_SkillO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tournament_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.plot.Plot.plot_ELO_vs_SkillO" title="Link to this definition">¶</a></dt>
<dd><p>Creates plot to compare ELO and SkillO simulation compared to betting odds as a side by side bar plot for the top 10 players
according to betting odds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tournament_name</strong> (<em>str</em>) -- Name of tournament.</p></li>
<li><p><strong>year</strong> (<em>int</em>) -- Year tournament was played in.</p></li>
<li><p><strong>simulation_num</strong> (<em>None</em><em> or </em><em>int</em>) -- Simulation number for title and csv file. Default set to None.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Outputs:</dt><dd><p>A png file for the given tournament and probabilities of winning for top 10 players.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> -- Year must be between 1968 and 2024. Year must also be of type int. If k_list is not None, then it must be a list.</p></li>
<li><p><strong>FileNotFoundError</strong> -- One of the dataframes for the plotting function does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.plot.Plot.plots">
<span class="sig-name descname"><span class="pre">plots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tournament_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.plot.Plot.plots" title="Link to this definition">¶</a></dt>
<dd><p>Creates the plotting function comparing the model's winning probabilities against the betting odds.
A side by side bar plot comparing the top 10 players according to the betting odds is plot against the
models probabilities. Saves plot to a png.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tournament_name</strong> (<em>str</em>) -- Name of tournament.</p></li>
<li><p><strong>year</strong> (<em>int</em>) -- Year tournament was played in.</p></li>
<li><p><strong>rating_system</strong> (<em>str</em>) -- Rating system being used, either ELO or SkillO.</p></li>
<li><p><strong>simulation_num</strong> (<em>None</em><em> or </em><em>str</em>) -- Simulation number for the plot. Default set to None.</p></li>
<li><p><strong>k_list</strong> (<em>None</em><em> or </em><em>list</em>) -- The list of different k factors used in the H2H model to calculate error rates for. This can be none if the H2H model is not being used.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Outputs:</dt><dd><p>A png file for the given tournament and probabilities of winning for top 10 players.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> -- Year must be between 1968 and 2024. Year must also be of type int. If k_list is not None, then it must be a list.</p></li>
<li><p><strong>FileNotFoundError</strong> -- One of the dataframes for the plotting function does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.simulation">
<span id="src-simulation-module"></span><h2>src.simulation module<a class="headerlink" href="#module-src.simulation" title="Link to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="src.simulation.InvalidTournamentError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.simulation.</span></span><span class="sig-name descname"><span class="pre">InvalidTournamentError</span></span><a class="headerlink" href="#src.simulation.InvalidTournamentError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.simulation.Simulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.simulation.</span></span><span class="sig-name descname"><span class="pre">Simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rating_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.adjusted_win_probability">
<span class="sig-name descname"><span class="pre">adjusted_win_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">P_A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">P_head_to_head</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">games_played</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.adjusted_win_probability" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the adjusted win probability for Player A based on the sigmoid-weighted head-to-head record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P_A</strong> (<em>float</em>) -- Probability played A beats player B.</p></li>
<li><p><strong>P_head_to_head</strong> (<em>float</em>) -- Historical head-to-head winning percentage for player A.</p></li>
<li><p><strong>games_played</strong> (<em>int</em>) -- Number of games played between played A and B.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Adjusted win probability for Player A.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.compute_prob_in_sets">
<span class="sig-name descname"><span class="pre">compute_prob_in_sets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winning_prob</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.compute_prob_in_sets" title="Link to this definition">¶</a></dt>
<dd><p>Computes a players winning probability based off the number of sets in a match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>winning_prob</strong> (<em>float</em>) -- The initial winning probability for a given player.</p></li>
<li><p><strong>age</strong> (<em>float</em>) -- The age of a player in years.</p></li>
<li><p><strong>sets</strong> (<em>int</em>) -- The number of sets in a match. In grand slams, this is 5.</p></li>
<li><p><strong>surface</strong> (<em>str</em>) -- The surface of a given match.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of winning probability for the number of sets.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.compute_prob_using_ELO">
<span class="sig-name descname"><span class="pre">compute_prob_using_ELO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_elo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_elo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.compute_prob_using_ELO" title="Link to this definition">¶</a></dt>
<dd><p>Calculates expected game score based on the logistic function for the ELO formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_elo</strong> (<em>float</em>) -- The first elo for a given team/player.</p></li>
<li><p><strong>second_elo</strong> (<em>float</em>) -- The second elo for a given team/player.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final calculation for an expected game score as a float.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.compute_prob_using_skillo">
<span class="sig-name descname"><span class="pre">compute_prob_using_skillo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">player_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">player_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.compute_prob_using_skillo" title="Link to this definition">¶</a></dt>
<dd><p>Calculates expected game score based on SkillO ratings (mean and variance).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>player_1</strong> (<em>str</em>) -- Name of player 1.</p></li>
<li><p><strong>player_2</strong> (<em>str</em>) -- Name of player 2.</p></li>
<li><p><strong>surface</strong> (<em>str</em>) -- Surface match is being played on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Winning probability of player 1 as a float through the logistic function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.find_initial_draw">
<span class="sig-name descname"><span class="pre">find_initial_draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tournament</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.find_initial_draw" title="Link to this definition">¶</a></dt>
<dd><p>Finds the initial draw of a tournament for grand slams in the tennis dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas dataframe</em>) -- Dataframe of scraped tennis data with tennis match history.</p></li>
<li><p><strong>year</strong> (<em>int</em>) -- The year the match was played in,</p></li>
<li><p><strong>tournament</strong> (<em>str</em>) -- Name of the tournament.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe of the first round matchup for given tournament.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>first_round_df (pandas dataframe)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#src.simulation.InvalidTournamentError" title="src.simulation.InvalidTournamentError"><strong>InvalidTournamentError</strong></a> -- Description of related error, either not a grand slam or no data in dataframe.
    The initial draw must have 127 rows.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.logistic">
<span class="sig-name descname"><span class="pre">logistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.logistic" title="Link to this definition">¶</a></dt>
<dd><p>Creates logistic function used for ELO calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) -- number input for the log function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final calculation of log function with given number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.matchups_gen">
<span class="sig-name descname"><span class="pre">matchups_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winners</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.matchups_gen" title="Link to this definition">¶</a></dt>
<dd><p>Computes the matchups based on a list of winners from the previous round</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>winners</strong> (<em>list</em>) -- The list of players who won in the previous round of the tournament</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of winning next round matchups for the tennis tournament</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matchup_df (pandas dataframe)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.simulate_round">
<span class="sig-name descname"><span class="pre">simulate_round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matchups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.simulate_round" title="Link to this definition">¶</a></dt>
<dd><p>Simulates the round of a tennis tournament</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matchups</strong> (<em>list</em>) -- The matchups of the round in a tournament.</p></li>
<li><p><strong>results</strong> (<em>matrix</em>) -- Matrix of tournament results.</p></li>
<li><p><strong>surface</strong> (<em>str</em>) -- Name of the surface playing on.</p></li>
<li><p><strong>round</strong> (<em>int</em>) -- Round number in the tournament.</p></li>
<li><p><strong>num_sets</strong> (<em>int</em>) -- Number of sets for a match.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of winners in a given round.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>winners (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.simulate_tournament">
<span class="sig-name descname"><span class="pre">simulate_tournament</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_draw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saves</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.simulate_tournament" title="Link to this definition">¶</a></dt>
<dd><p>Simulates a tournament through the initial draws for the tournament.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial_draw</strong> (<em>list</em>) -- The initial draw of player matchups in the tournament.</p></li>
<li><p><strong>surface</strong> (<em>str</em>) -- Name of the surface playing on.</p></li>
<li><p><strong>trials</strong> (<em>int</em>) -- Number of times to simulate tournament.</p></li>
<li><p><strong>saves</strong> (<em>boolean</em>) -- Boolean to save results to csv file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe of probability to make a certain round in the tournament.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Winners_data (pandas dataframe)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> -- Invalid surface</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.simulating_game">
<span class="sig-name descname"><span class="pre">simulating_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">player_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">player_1_age</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">player_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">player_2_age</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.simulating_game" title="Link to this definition">¶</a></dt>
<dd><p>Computes a game in a tennis match</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>player_1</strong> (<em>str</em>) -- Name of player 1.</p></li>
<li><p><strong>player_1_age</strong> (<em>float</em>) -- The age of player 1.</p></li>
<li><p><strong>player_2</strong> (<em>str</em>) -- Name of player 2.</p></li>
<li><p><strong>player_2_age</strong> (<em>float</em>) -- The age of player 2.</p></li>
<li><p><strong>num_sets</strong> (<em>int</em>) -- Number of sets in a match.</p></li>
<li><p><strong>surface</strong> (<em>str</em>) -- Surface of a match.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Player who won the match as a string.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> -- The player names must be strings and ages must be floats.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.simulation_params">
<span class="sig-name descname"><span class="pre">simulation_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">win_pct_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">games_played_df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.simulation_params" title="Link to this definition">¶</a></dt>
<dd><p>Initializes parameters for the simulation module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>win_pct_df</strong> (<em>pandas dataframe</em>) -- Dataframe of the given win percentage for head-to-head matchups between players</p></li>
<li><p><strong>games_played_df</strong> (<em>pandas dataframe</em>) -- Dataframe of the number of matches played for head-to-head matchups between players</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.simulation.Simulation.user_tournament_simulation">
<span class="sig-name descname"><span class="pre">user_tournament_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tennis_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tournament_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saves</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.simulation.Simulation.user_tournament_simulation" title="Link to this definition">¶</a></dt>
<dd><p>Allows users to simulate tournament in one function. Utilizes all above methods to simulate tournament and
saves the results to a final csv used for visualization and validation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tennis_data</strong> (<em>pandas dataframe</em>) -- Dataframe of tennis data for given years.</p></li>
<li><p><strong>year</strong> (<em>int</em>) -- Year of tournament user wants to simulate.</p></li>
<li><p><strong>tournament_name</strong> (<em>str</em>) -- The name of the tournament the user wants to simulate.</p></li>
<li><p><strong>nsims</strong> (<em>int</em>) -- Number of tournament simulations.</p></li>
<li><p><strong>sim_num</strong> (<em>int</em>) -- Simulation number. Default set to 1.</p></li>
<li><p><strong>saves</strong> (<em>boolean</em>) -- Save simulation to csv or not. Default set to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> -- User must have saves be a boolean value, and year to be of type int</p></li>
<li><p><a class="reference internal" href="#src.simulation.InvalidTournamentError" title="src.simulation.InvalidTournamentError"><strong>InvalidTournamentError</strong></a> -- User must enter a grand slam tournament</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-src" title="Link to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Team 19 Docs</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Nathan Dennis, Yiming Chen, John Breedis.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/src.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>